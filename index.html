<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <div class="calculator">
        <form>
          <div class = "display">
            <input type= "text" name= "display" id = "display">
          </div>

          <div>
             <input type = "button" value = "AC">
             <input type = "button" value = "DE">
             <input type = "button" value = ".">
             <input type = "button" value = "/">
          </div>

          <div>
            <input type = "button" value = "sin" class = "function">
            <input type = "button" value = "cos" class = "function">
            <input type = "button" value = "tan" class = "function">
            <input type = "button" value = "^" class = "function">
         </div>

          <div>
            <input type = "button" value = "log" class = "function">
            <input type = "button" value = "e" class = "function">
            <input type = "button" value = "Pi" class = "function">
            <input type = "button" value = "Sqrt" class = "function">
         </div>

          <div>
            <input type = "button" value = "!" class = "function">
            <input type = "button" value = "1/x" class = "function">
            <input type = "button" value = "e^x" class = "function">
            <input type = "button" value = "%" class = "function">
         </div>

          <div>
            <input type = "button" value = "x^3" class = "function">
            <input type = "button" value = "|x|" class = "function">
            <input type = "button" value = "ln" class = "function">
            <input type = "button" value = "Cbrt" class = "function">
         </div>

          <div>
             <input type = "button" value = "7">
             <input type = "button" value = "8">
             <input type = "button" value = "9">
             <input type = "button" value = "*">
          </div>

          <div>
             <input type = "button" value = "4">
             <input type = "button" value = "5">
             <input type = "button" value = "6">
             <input type = "button" value = "-">
          </div>

          <div>
             <input type = "button" value = "1">
             <input type = "button" value = "2">
             <input type = "button" value = "3">
             <input type = "button" value = "+">
          </div>

          <div>
             <input type = "button" value = "0">
             <input type = "button" value = "00">
             <input type = "button" value = "=" class = "equal">
          </div>


        </form>
      </div>
    </div>

    <script>

      //Get the display Element.
      const display = document.getElementById('display');
      
      //Get all the button elements.
      const buttons = document.querySelectorAll('input[type = "button"]');

      //Add the Event Listeners to all the buttons. 

      buttons.forEach(button => {

        button.addEventListener('click', function(){

        const value = button.value;

        function toRadians(degrees){
          
          return degrees * (Math.PI / 180);
        }

        function Factorial(n) {

          n = parseInt(n);

          if(n == 0 || n == 1) {

            return 1;
          }

          else {

            let fact = 1;

            for(let i = 2; i <= n; i++) {

              fact = fact * i;
            }

            return fact;
          }

        }

        if(value === "AC") {

          display.value = "";
        }

        else if(value === "DE") {
           
          display.value = display.value.slice(0, -1);
        }

        else if(value === "00") {

          display.value += "00";
        }

        else if(value === "^") {
          display.value += "**";
        }

        else if(value === "sin") {
          display.value = (Math.sin(toRadians(display.value))).toFixed(2);
        }

        else if(value === "cos") {
          display.value = (Math.cos(toRadians(display.value))).toFixed(2);
        }

        else if(value === "tan") {
          display.value = (Math.tan(toRadians(display.value))).toFixed(2);
          
        }

        else if(value == "log") {

          display.value = Math.log10(display.value);
        }

        else if(value == "e") {

          display.value += (Math.E).toFixed(2);
        }

        else if(value == "Pi") {

          display.value += (Math.PI).toFixed(2);
        }

        else if(value == "Sqrt") {

          display.value = (Math.sqrt(display.value)).toFixed(2);
        }

        else if(value == "%") {

          display.value += "%";
        }

        else if(value == "e^x") {

          display.value = Math.exp(display.value);
        }

        else if(value == "1/x") {

          display.value = (1 / display.value).toFixed(3);
        }

        else if(value == "!") {

          display.value = Factorial(display.value);
        }

        else if(value == "x^3") {

          display.value = Math.pow(display.value, 3);
        }

        else if(value == "cbrt") {

          display.value = Math.cbrt(display.value);
        }

        else if(value == "|x|") {

          display.value = Math.abs(display.value);
        }

        else if(value === "ln") {

          display.value = Math.log(display.value);
        }

        else if(value !== "=") {

          display.value += value;
        }

        else{

          try {

            display.value = (eval(display.value)).toFixed(2);
          }

          catch (e) {

            display.value = "Error";
            }
        
           }

        });

      });

    </script>
  </body>
</html>
